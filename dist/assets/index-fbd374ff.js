import{a as l,ag as d,d as u,u as m,f as t,ah as h,ai as x,aj as g,ak as f,U as A,al as k,R as j,c as p,j as e,am as S,an as N}from"./index-95793c1e.js";import{a as w}from"./index.esm-9e73d95f.js";const R=()=>{const a=l(d),r=l(u),o=m();return{handleCreateAccountUseToken:async n=>{try{if(!n)throw{data:{message:"Not have token"}};a({state:t.LOADING,message:null});const{data:s}=await h.postSignUpVerify({token:n});a({state:t.HAS_VALUE,message:s.message}),x(s.data.access_token),g(s.data.refresh_token);const c=f(s.data.access_token);A(JSON.stringify({...c,isLoggedIn:!0})),r({state:t.HAS_VALUE,data:{isLoggedIn:!0,id:c.id,role:c.role,username:c.username,province:c.province,district:c.district,ward:c.ward}}),o("/dashboard")}catch(s){console.error(s.data),a({state:t.HAS_ERROR,message:null})}}}},_={useCreateAccountUseToken:R},b=()=>{const[a,r]=k(),o=j(d),i=m(),{handleCreateAccountUseToken:n}=_.useCreateAccountUseToken();return console.log(a.get("token")),p.useEffect(()=>{n(a.get("token"))},[]),console.log(a.get("token")),e.jsx("article",{className:"h-screen w-screen flex flex-col items-center justify-start",children:e.jsxs("section",{className:"mt-28 w-116 h-68 shadow-xl rounded border-1 border-solid border-gray-300 p-4 flex flex-col justify-center items-center animate-bounce",children:[e.jsx("h2",{className:"text-orange-400",children:"Please wait for we checking"}),e.jsxs("div",{className:"",children:[o.state===t.HAS_VALUE&&e.jsx(S,{className:"m-4",color:"#FFA33C",size:68}),o.state===t.LOADING&&e.jsx(N,{color:"#FFA33C"}),o.state===t.HAS_ERROR&&e.jsx(w,{className:"m-4",color:"#FFA33C",size:68})]}),o.state===t.HAS_VALUE&&e.jsx("div",{className:"italic text-xl font-medium",children:"Success to accept"}),o.state===t.HAS_ERROR&&e.jsxs("div",{className:"flex flex-col space-y-4 justify-center items-center",children:[e.jsx("div",{style:{textAlign:"center"},className:"italic text-base font-normal",children:"Something wrong with token, please back to home"}),e.jsx("button",{onClick:s=>{s.preventDefault(),i("/")},className:"py-2 px-4 bg-orange-400 rounded-xl redirect--btn border-2 w-3/5 flex justify-center items-center",children:e.jsx("p",{className:"text-lg font-extrabold text-white",children:"Back to Home"})})]})]})})};export{b as default};
