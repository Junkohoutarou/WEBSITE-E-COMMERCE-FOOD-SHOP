import{j as e,e as x,$ as p,a as b,c as L,R,L as _}from"./index-95793c1e.js";import{d as h}from"./dayjs.min-30b80ddb.js";import{g as j,d as E,M as m}from"./hook-f4e73b85.js";const S=()=>{const{t:s}=x();return e.jsx("section",{className:"flex flex-row pb-2 border-b-1 border-solid border-gray-500",children:e.jsx("div",{className:"text-2xl font-bold",children:s("SELLER_VIEW.LIST_PRODUCT.LIST_PRODUCT")})})},T=()=>{const{t:s}=x(),{state:o,contents:n}=p(j);return console.log(o),console.log(n),e.jsxs("section",{children:[e.jsxs("div",{className:"flex flex-row w-full font-bold",children:[e.jsx("div",{className:"w-2/5 flex justify-center items-center",children:s("SELLER_VIEW.LIST_PRODUCT.ORDER_ID")}),e.jsx("div",{className:"w-2/5 flex justify-center items-center",children:s("SELLER_VIEW.LIST_PRODUCT.CREATE_AT")}),e.jsx("div",{className:"w-1/6 flex justify-center items-center",children:s("SELLER_VIEW.LIST_PRODUCT.BUYER")}),e.jsx("div",{className:"w-1/6 flex justify-center items-center",children:s("SELLER_VIEW.LIST_PRODUCT.STATUS")})]}),o==="loading"&&e.jsx("p",{children:"Loading..."}),o==="hasValue"&&e.jsx(e.Fragment,{children:n.data.map(d=>e.jsx(D,{order_id:d.order_id,order_items:d.order_items,price:d.price,status:d.status,buyer:d.buyer},d.order_id))})]})},D=s=>{const{t:o}=x(),{order_id:n,price:d,status:a,buyer:c="",order_items:i}=s,r=b(E),t=()=>{let l=`${i[0].title}: ${i[0].quantity}`;for(let u in i)if(console.log(u),u!=0){const f=i[u];l=l+`, ${f.title}: ${f.quantity}`}r(u=>({...u,open:!0,data:{order_id:n,buyer:c.username,status:a,address:`${c.province}, ${c.district}, ${c.ward}`,products:l,price:d}}))};return e.jsxs("div",{onClick:l=>{l.preventDefault(),t()},className:"product--list--item flex flex-row w-full hover-cursor hover-box  py-6 border-solid border-1 rounded border-black mt-4 shadow ",children:[e.jsx("div",{className:"w-2/5 flex justify-center items-center",children:n}),e.jsx("div",{className:"w-2/5 flex justify-center items-center",children:h("2023-11-21T15:12:15.000Z").format("HH:mm:ss - DD/MM/YYYY")}),e.jsx("div",{className:"w-1/6 flex justify-center items-center",children:c.username}),e.jsxs("div",{className:"w-1/6 flex justify-center items-center",children:[a==="ordered"&&e.jsx("p",{style:{color:"#9ADE7B"},className:"text-base font-bold",children:o("SELLER_VIEW.LIST_PRODUCT.ORDERED")}),a==="deny"&&e.jsx("p",{style:{color:"#DF2E38"},className:"text-base font-bold",children:o("SELLER_VIEW.LIST_PRODUCT.DENY")}),a==="processing"&&e.jsx("p",{style:{color:"#A9A9A9"},className:"text-base font-bold",children:o("SELLER_VIEW.LIST_PRODUCT.PROCESSING")})]})]})},y=()=>{const{t:s}=x(),o=L.useRef(null),n=R(E),d=_(E),{handleDenyOrder:a}=m.useDenyOrder(),{handleAcceptOrder:c}=m.useAcceptOrder();L.useEffect(()=>{var t;n.open&&!((t=o.current)!=null&&t.open)?o.current.showModal():!n.open&&o.current.open&&o.current.close()},[n.open]);const i=()=>{d()},{data:r}=n;return e.jsx("dialog",{ref:o,className:"overflow-hidden rounded-2xl ",style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%,-50%)"},onClick:t=>{t.preventDefault();const l=t.currentTarget.getBoundingClientRect();(t.clientX<l.left||t.clientX>l.right||t.clientY<l.top||t.clientY>l.bottom)&&i()},children:r?e.jsxs("section",{className:"w-116 h-72  p-4 flex flex-col justify-between",children:[e.jsx("div",{className:"text-2xl flex justify-center items-center border-b-1 border-gray-200 pb-2",children:s("SELLER_VIEW.LIST_PRODUCT.DETAIL")}),e.jsxs("section",{className:"h-full flex flex-col space-y-2 pt-4 border-b-1 border-solid border-gray-300 px-4",children:[e.jsxs("div",{children:[s("SELLER_VIEW.LIST_PRODUCT.BUYER"),": ",r.buyer]}),e.jsxs("div",{children:[s("SELLER_VIEW.LIST_PRODUCT.ADDRESS"),": ",r.address]}),e.jsxs("div",{children:[s("SELLER_VIEW.LIST_PRODUCT.PRODUCT"),": ",r.products]}),e.jsxs("div",{children:[s("SELLER_VIEW.LIST_PRODUCT.PRICE"),": ",r.price||""]})]}),e.jsxs("div",{className:"flex flex-row justify-around space-x-2 mt-4",children:[e.jsx("button",{onClick:t=>{t.preventDefault(),i()},className:"grow p-2 border-1 border-solid rounded border-gray-400 font-bold text-base bg-white",children:s("SELLER_VIEW.LIST_PRODUCT.CLOSE")}),e.jsx("button",{onClick:t=>{t.preventDefault(),a(r.order_id)},className:"grow p-2 border-1 border-solid rounded border-gray-400 font-bold text-base",style:{color:`${r.status==="deny"?"white":"#DF2E38"}`,backgroundColor:`${r.status==="deny"?"#DF2E38":"white"}`},children:s("SELLER_VIEW.LIST_PRODUCT.DENY")}),e.jsx("button",{onClick:t=>{t.preventDefault(),c(r.order_id)},className:"grow p-2 border-1 border-solid border-gray-400 rounded font-bold text-base",style:{color:`${r.status==="ordered"?"white":"#9ADE7B"}`,backgroundColor:`${r.status==="ordered"?"#54B435":"white"}`},children:r.status==="ordered"?"Ordered":s("SELLER_VIEW.LIST_PRODUCT.ACCEPT")})]})]}):e.jsx("p",{children:"Loading..."})})},g=()=>e.jsxs(e.Fragment,{children:[e.jsx(y,{}),e.jsxs("article",{className:"mt-12  space-y-6",children:[e.jsx(S,{}),e.jsx(T,{})]})]});export{g as default};
